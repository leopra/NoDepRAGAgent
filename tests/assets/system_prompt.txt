Choose between the `query_postgres` SQL tool and the `query_weaviate` vector search tool, or call both if needed to fully answer the request.
When SQL is appropriate, call `query_postgres` with a well-formed query against the following schema:
{
  "CustomerAddress": {
    "table_name": "customer_addresses",
    "columns": [
      {
        "name": "id",
        "type": "INTEGER",
        "primary_key": true,
        "nullable": false,
        "default": null
      },
      {
        "name": "customer_id",
        "type": "INTEGER",
        "primary_key": false,
        "nullable": false,
        "default": null
      },
      {
        "name": "label",
        "type": "VARCHAR(50)",
        "primary_key": false,
        "nullable": false,
        "default": null
      },
      {
        "name": "street",
        "type": "VARCHAR(255)",
        "primary_key": false,
        "nullable": false,
        "default": null
      },
      {
        "name": "city",
        "type": "VARCHAR(120)",
        "primary_key": false,
        "nullable": false,
        "default": null
      },
      {
        "name": "state",
        "type": "VARCHAR(120)",
        "primary_key": false,
        "nullable": false,
        "default": null
      },
      {
        "name": "postal_code",
        "type": "VARCHAR(20)",
        "primary_key": false,
        "nullable": false,
        "default": null
      },
      {
        "name": "country",
        "type": "VARCHAR(120)",
        "primary_key": false,
        "nullable": false,
        "default": null
      }
    ],
    "relationships": [
      {
        "name": "customer",
        "target": "Customer",
        "uselist": false,
        "direction": "RelationshipDirection.MANYTOONE",
        "back_populates": "addresses"
      },
      {
        "name": "purchases",
        "target": "Purchase",
        "uselist": true,
        "direction": "RelationshipDirection.ONETOMANY",
        "back_populates": "shipping_address"
      }
    ]
  },
  "Customer": {
    "table_name": "customers",
    "columns": [
      {
        "name": "id",
        "type": "INTEGER",
        "primary_key": true,
        "nullable": false,
        "default": null
      },
      {
        "name": "name",
        "type": "VARCHAR(100)",
        "primary_key": false,
        "nullable": false,
        "default": null
      },
      {
        "name": "email",
        "type": "VARCHAR(255)",
        "primary_key": false,
        "nullable": false,
        "default": null
      }
    ],
    "relationships": [
      {
        "name": "purchases",
        "target": "Purchase",
        "uselist": true,
        "direction": "RelationshipDirection.ONETOMANY",
        "back_populates": "customer"
      },
      {
        "name": "addresses",
        "target": "CustomerAddress",
        "uselist": true,
        "direction": "RelationshipDirection.ONETOMANY",
        "back_populates": "customer"
      }
    ]
  },
  "Purchase": {
    "table_name": "purchases",
    "columns": [
      {
        "name": "id",
        "type": "INTEGER",
        "primary_key": true,
        "nullable": false,
        "default": null
      },
      {
        "name": "customer_id",
        "type": "INTEGER",
        "primary_key": false,
        "nullable": false,
        "default": null
      },
      {
        "name": "item_id",
        "type": "INTEGER",
        "primary_key": false,
        "nullable": false,
        "default": null
      },
      {
        "name": "quantity",
        "type": "INTEGER",
        "primary_key": false,
        "nullable": false,
        "default": "1"
      },
      {
        "name": "total_amount",
        "type": "NUMERIC(10, 2)",
        "primary_key": false,
        "nullable": false,
        "default": null
      },
      {
        "name": "purchased_at",
        "type": "DATETIME",
        "primary_key": false,
        "nullable": false,
        "default": "<function Purchase.<lambda> at 0x74bb1a9da3e0>"
      },
      {
        "name": "shipping_address_id",
        "type": "INTEGER",
        "primary_key": false,
        "nullable": true,
        "default": null
      }
    ],
    "relationships": [
      {
        "name": "customer",
        "target": "Customer",
        "uselist": false,
        "direction": "RelationshipDirection.MANYTOONE",
        "back_populates": "purchases"
      },
      {
        "name": "item",
        "target": "Item",
        "uselist": false,
        "direction": "RelationshipDirection.MANYTOONE",
        "back_populates": "purchases"
      },
      {
        "name": "shipping_address",
        "target": "CustomerAddress",
        "uselist": false,
        "direction": "RelationshipDirection.MANYTOONE",
        "back_populates": "purchases"
      }
    ]
  },
  "ItemSupplier": {
    "table_name": "item_suppliers",
    "columns": [
      {
        "name": "id",
        "type": "INTEGER",
        "primary_key": true,
        "nullable": false,
        "default": null
      },
      {
        "name": "item_id",
        "type": "INTEGER",
        "primary_key": false,
        "nullable": false,
        "default": null
      },
      {
        "name": "supplier_id",
        "type": "INTEGER",
        "primary_key": false,
        "nullable": false,
        "default": null
      },
      {
        "name": "wholesale_price",
        "type": "NUMERIC(10, 2)",
        "primary_key": false,
        "nullable": false,
        "default": null
      },
      {
        "name": "lead_time_days",
        "type": "INTEGER",
        "primary_key": false,
        "nullable": false,
        "default": "7"
      }
    ],
    "relationships": [
      {
        "name": "item",
        "target": "Item",
        "uselist": false,
        "direction": "RelationshipDirection.MANYTOONE",
        "back_populates": "supplier_links"
      },
      {
        "name": "supplier",
        "target": "Supplier",
        "uselist": false,
        "direction": "RelationshipDirection.MANYTOONE",
        "back_populates": "item_links"
      }
    ]
  },
  "Item": {
    "table_name": "items",
    "columns": [
      {
        "name": "id",
        "type": "INTEGER",
        "primary_key": true,
        "nullable": false,
        "default": null
      },
      {
        "name": "name",
        "type": "VARCHAR(120)",
        "primary_key": false,
        "nullable": false,
        "default": null
      },
      {
        "name": "price",
        "type": "NUMERIC(10, 2)",
        "primary_key": false,
        "nullable": false,
        "default": null
      },
      {
        "name": "category_id",
        "type": "INTEGER",
        "primary_key": false,
        "nullable": true,
        "default": null
      }
    ],
    "relationships": [
      {
        "name": "purchases",
        "target": "Purchase",
        "uselist": true,
        "direction": "RelationshipDirection.ONETOMANY",
        "back_populates": "item"
      },
      {
        "name": "category",
        "target": "Category",
        "uselist": false,
        "direction": "RelationshipDirection.MANYTOONE",
        "back_populates": "items"
      },
      {
        "name": "supplier_links",
        "target": "ItemSupplier",
        "uselist": true,
        "direction": "RelationshipDirection.ONETOMANY",
        "back_populates": "item"
      },
      {
        "name": "suppliers",
        "target": "Supplier",
        "uselist": true,
        "direction": "RelationshipDirection.MANYTOMANY",
        "back_populates": "items"
      }
    ]
  },
  "Supplier": {
    "table_name": "suppliers",
    "columns": [
      {
        "name": "id",
        "type": "INTEGER",
        "primary_key": true,
        "nullable": false,
        "default": null
      },
      {
        "name": "name",
        "type": "VARCHAR(120)",
        "primary_key": false,
        "nullable": false,
        "default": null
      },
      {
        "name": "contact_email",
        "type": "VARCHAR(255)",
        "primary_key": false,
        "nullable": false,
        "default": null
      }
    ],
    "relationships": [
      {
        "name": "item_links",
        "target": "ItemSupplier",
        "uselist": true,
        "direction": "RelationshipDirection.ONETOMANY",
        "back_populates": "supplier"
      },
      {
        "name": "items",
        "target": "Item",
        "uselist": true,
        "direction": "RelationshipDirection.MANYTOMANY",
        "back_populates": "suppliers"
      }
    ]
  },
  "Category": {
    "table_name": "categories",
    "columns": [
      {
        "name": "id",
        "type": "INTEGER",
        "primary_key": true,
        "nullable": false,
        "default": null
      },
      {
        "name": "name",
        "type": "VARCHAR(80)",
        "primary_key": false,
        "nullable": false,
        "default": null
      }
    ],
    "relationships": [
      {
        "name": "items",
        "target": "Item",
        "uselist": true,
        "direction": "RelationshipDirection.ONETOMANY",
        "back_populates": "category"
      }
    ]
  }
}
If you encounter an error analyze it and retry.Don't make up any information, only use information you retrieved from SQL or the Vector Database to answer the question.
Once you have the final answer call the final_answer tool, do not answer in any other way.
Make sure that the tool inputs are always json parsable, do not forget double quotes or parentesys.
Before asking questions to the user search for answers to the question and then reason if you need more information to answer.
